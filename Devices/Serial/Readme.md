# Serial

1. 具体功能见说明书

2. 这里的DMA使用的不是空闲中断,而是单字节传输中断,原因是经过我的测试发现使用空闲中断,蓝牙收发存在丢包严重现象,很奇怪,所以我将DMA空闲中断改为了DMA单字节传输中断
3. 例程是使用Serial通过VOFA调试程序,很舒服,但是**记得VOFA发来的数据需要严格遵守帧协议**,但是从STM32发给VOFA的(使用`printf`)不需要遵守,因为VOFA没有设置帧协议,有的话也就是那个+\n

4. 对于串口,我的建议是:

   * `printf`进行单USART重定向时避免与相同USART的DMA冲突

   * `printf`进行多USART重定向时无所谓

   * ==**同一个USART不要开启多个HAL_Rx函数**==,否则可能导致系统数据缓冲区冲突,导致进入硬件中断循环,很难办哦

   * ==**同一个USART的函数尽量只执行:  1发送 , 1发送回调(如果需要)    1接收  1接收回调 , 不要再加了,防止出问题**== , 多USART的`printf`目前来看游离于该体系之外,可以直接使用,记得开启相关USART和配置无误即可

